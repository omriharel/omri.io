<!DOCTYPE html>
<html>
<head>
<title>Rivi status</title>
<style>
    body {
        background-color: black;
        text-align: center;
    }
</style>
</head>
<body onload="checkHealth();">
<div id="health"></div>
</body>
<script language="javascript">
    function checkHealth() {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "https://api.omri.io/rivi/", true);
        xhr.timeout = 500;

        xhr.onload = function() {
            if (xhr.status == 200) {
                displaySuccess();
            } else {
                displayFailure();
            }
        };

        xhr.onerror = displayFailure;
        xhr.onabort = displayFailure;
        xhr.ontimeout = displayFailure;

        xhr.send();
    }

    function displaySuccess() {
        document.getElementById('health').innerHTML = '<img src="img/up.png"></img>'
    }

    function displayFailure() {
        document.getElementById('health').innerHTML = '<img src="img/down.png"></img>'
    }
</script>
</html>
